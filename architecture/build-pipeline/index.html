<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <script>
    // Apply theme immediately to prevent flash of unstyled content (FOUC)
    (function() {
      const theme = localStorage.getItem('theme') || 'dark';
      document.documentElement.setAttribute('data-theme', theme);
    })();
  </script>
  <script>
    // Apply sidebar state immediately to prevent layout shift
    (function() {
      const savedState = localStorage.getItem('sidebar-state');
      if (savedState === 'collapsed') {
        document.documentElement.classList.add('sidebar-collapsed');
      }
    })();
  </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Understand how MarkStack processes markdown files, renders content, applies templates, and generates the final static site.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <meta property="og:title" content="Build Pipeline | MarkStack">
  <meta property="og:description" content="Understand how MarkStack processes markdown files, renders content, applies templates, and generates the final static site.">
  <meta property="og:url" content="https://kineticenforcer.github.io/markstackdemo/architecture/build-pipeline">
  <meta property="og:type" content="website">
  <title>Build Pipeline | MarkStack</title>
  <link rel="stylesheet" href="/markstackdemo/css/main.css">
  <link rel="stylesheet" href="/markstackdemo/css/hljs-theme.css">
  <link rel="icon" href="/markstackdemo/svg/logo.svg" type="image/svg+xml">
</head>
<body data-baseurl="/markstackdemo">
  <header class="site-header">
    <div class="header-container">
      <a href="/markstackdemo/" class="site-logo">
        <img src="/markstackdemo/svg/logo.svg" alt="Logo" class="logo-icon" width="32" height="32">
        <span class="logo-text">MarkStack</span>
      </a>
      
      <div class="header-search">
        <div class="search-container">
          <svg class="search-icon" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          <input type="text" id="search-input" placeholder="Search documentation..." autocomplete="off">
          <kbd class="search-shortcut">Ctrl+K</kbd>
        </div>
        <div id="search-results" class="search-results"></div>
      </div>
      
      <div class="header-actions">
        <a href="https://github.com/KineticEnforcer/MarkStack" target="_blank" rel="noopener noreferrer" class="github-link" aria-label="View on GitHub">
          <svg class="github-icon" viewBox="0 0 24 24" width="22" height="22" fill="currentColor">
            <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0 0 24 12c0-6.63-5.37-12-12-12z"/>
          </svg>
        </a>
        <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
          <svg class="icon-sun" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5"></circle>
            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path>
          </svg>
          <svg class="icon-moon" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <div class="breadcrumb-bar">
    <div class="breadcrumb-container">
      <a href="/markstackdemo/" class="breadcrumb-home" title="Home"><svg class="breadcrumb-home-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V9.5a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v4.5h2.25a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z"/></svg></a><span class="breadcrumb-separator">/</span><a href="/markstackdemo/architecture/">Architecture</a><span class="breadcrumb-separator">/</span><span class="breadcrumb-current">Build Pipeline</span>
    </div>
  </div>

  <button class="sidebar-collapse-toggle" id="sidebar-toggle" title="Toggle sidebar">
    <svg class="sidebar-toggle-icon collapse-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
      <path d="M7.78 12.53a.75.75 0 0 1-1.06 0L2.47 8.28a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L4.81 7h7.44a.75.75 0 0 1 0 1.5H4.81l2.97 2.97a.75.75 0 0 1 0 1.06Z"/>
    </svg>
    <svg class="sidebar-toggle-icon expand-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
      <path d="M8.22 3.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l2.97-2.97H3.75a.75.75 0 0 1 0-1.5h7.44L8.22 4.53a.75.75 0 0 1 0-1.06Z"/>
    </svg>
  </button>

  <div class="main-layout">
    <aside class="sidebar">
      <nav class="sidebar-nav">
        <ul class="sidebar-list sidebar-level-0">
<li class="sidebar-item sidebar-folder sidebar-expanded" data-state="expanded"><div class="sidebar-folder-header"><button class="sidebar-toggle" aria-label="Toggle folder"><svg class="sidebar-chevron" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"/></svg></button><a href="/markstackdemo/architecture/"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"/></svg>Architecture</a></div><div class="sidebar-children expanded"><ul class="sidebar-list sidebar-level-1">
<li class="sidebar-item sidebar-file sidebar-current"><a href="/markstackdemo/architecture/build-pipeline"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Build Pipeline</a></li>
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/architecture/navigation-and-routing"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Navigation and Routing</a></li>
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/architecture/search-indexing"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Search Indexing</a></li>
</ul></div></li>
<li class="sidebar-item sidebar-folder" data-state="collapsed"><div class="sidebar-folder-header"><button class="sidebar-toggle" aria-label="Toggle folder"><svg class="sidebar-chevron" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M6.22 3.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L9.94 8 6.22 4.28a.75.75 0 0 1 0-1.06Z"/></svg></button><a href="/markstackdemo/authoring-content/"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"/></svg>Authoring Content</a></div><div class="sidebar-children collapsed"><ul class="sidebar-list sidebar-level-1">
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/authoring-content/content-model"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Content Model</a></li>
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/authoring-content/examples"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Examples</a></li>
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/authoring-content/frontmatter"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Frontmatter</a></li>
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/authoring-content/markdown-features"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Markdown Features</a></li>
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/authoring-content/media-and-links"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Media and Links</a></li>
</ul></div></li>
<li class="sidebar-item sidebar-folder" data-state="collapsed"><div class="sidebar-folder-header"><button class="sidebar-toggle" aria-label="Toggle folder"><svg class="sidebar-chevron" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M6.22 3.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L9.94 8 6.22 4.28a.75.75 0 0 1 0-1.06Z"/></svg></button><a href="/markstackdemo/build-and-deploy/"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"/></svg>Build and Deploy</a></div><div class="sidebar-children collapsed"><ul class="sidebar-list sidebar-level-1">
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/build-and-deploy/cicd-integration"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>CI/CD Integration</a></li>
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/build-and-deploy/commands-reference"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Commands Reference</a></li>
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/build-and-deploy/deployment-guide"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Deployment Guide</a></li>
</ul></div></li>
<li class="sidebar-item sidebar-folder" data-state="collapsed"><div class="sidebar-folder-header"><button class="sidebar-toggle" aria-label="Toggle folder"><svg class="sidebar-chevron" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M6.22 3.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L9.94 8 6.22 4.28a.75.75 0 0 1 0-1.06Z"/></svg></button><a href="/markstackdemo/configuration/"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"/></svg>Configuration</a></div><div class="sidebar-children collapsed"><ul class="sidebar-list sidebar-level-1">
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/configuration/homepage-content"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Homepage Content</a></li>
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/configuration/site-config"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Site Config</a></li>
</ul></div></li>
<li class="sidebar-item sidebar-folder" data-state="collapsed"><div class="sidebar-folder-header"><button class="sidebar-toggle" aria-label="Toggle folder"><svg class="sidebar-chevron" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M6.22 3.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L9.94 8 6.22 4.28a.75.75 0 0 1 0-1.06Z"/></svg></button><a href="/markstackdemo/customization/"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"/></svg>Customization</a></div><div class="sidebar-children collapsed"><ul class="sidebar-list sidebar-level-1">
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/customization/templates"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Templates</a></li>
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/customization/themes-and-styling"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Themes and Styling</a></li>
</ul></div></li>
<li class="sidebar-item sidebar-folder" data-state="collapsed"><div class="sidebar-folder-header"><button class="sidebar-toggle" aria-label="Toggle folder"><svg class="sidebar-chevron" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M6.22 3.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L9.94 8 6.22 4.28a.75.75 0 0 1 0-1.06Z"/></svg></button><a href="/markstackdemo/getting-started/"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"/></svg>Getting Started</a></div><div class="sidebar-children collapsed"><ul class="sidebar-list sidebar-level-1">
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/getting-started/installation"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Installation</a></li>
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/getting-started/project-structure"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Project Structure</a></li>
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/getting-started/quickstart"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Quickstart</a></li>
</ul></div></li>
<li class="sidebar-item sidebar-folder" data-state="collapsed"><div class="sidebar-folder-header"><button class="sidebar-toggle" aria-label="Toggle folder"><svg class="sidebar-chevron" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M6.22 3.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L9.94 8 6.22 4.28a.75.75 0 0 1 0-1.06Z"/></svg></button><a href="/markstackdemo/troubleshooting/"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"/></svg>Troubleshooting</a></div><div class="sidebar-children collapsed"><ul class="sidebar-list sidebar-level-1">
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/troubleshooting/common-issues"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Common Issues</a></li>
<li class="sidebar-item sidebar-file"><a href="/markstackdemo/troubleshooting/frequently-asked-questions"><svg class="sidebar-icon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>Frequently Asked Questions</a></li>
</ul></div></li>
</ul>
      </nav>
    </aside>
    
    <main class="content">
      <article class="article">
        <h1 id="build-pipeline" tabindex="-1"><a class="heading-anchor" href="#build-pipeline" aria-hidden="true">#</a> Build Pipeline</h1>
<p>The build pipeline is the core of MarkStack. It takes markdown files as input and produces a complete static website as output. This page explains each stage of the process in detail.</p>
<h2 id="pipeline-stages" tabindex="-1"><a class="heading-anchor" href="#pipeline-stages" aria-hidden="true">#</a> Pipeline Stages</h2>
<p>The build process runs through seven distinct stages:</p>
<ol>
<li><strong>Initialization</strong>: Clear output, copy static files</li>
<li><strong>URL Mapping</strong>: Scan content and build URL lookup table</li>
<li><strong>Content Processing</strong>: Parse and render each markdown file</li>
<li><strong>Navigation Generation</strong>: Build sidebar and breadcrumbs</li>
<li><strong>Template Application</strong>: Inject content into HTML template</li>
<li><strong>Special Pages</strong>: Generate homepage and 404 page</li>
<li><strong>Search Index</strong>: Create JSON index for client-side search</li>
</ol>
<h2 id="stage-1-initialization" tabindex="-1"><a class="heading-anchor" href="#stage-1-initialization" aria-hidden="true">#</a> Stage 1: Initialization</h2>
<pre class="hljs" data-language="javascript"><code><span class="hljs-comment">// Clear dist directory</span>
<span class="hljs-keyword">if</span> (fs.<span class="hljs-title function_">existsSync</span>(<span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">distDir</span>)) {
  fs.<span class="hljs-title function_">rmSync</span>(<span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">distDir</span>, { <span class="hljs-attr">recursive</span>: <span class="hljs-literal">true</span> });
}
<span class="hljs-title function_">ensureDir</span>(<span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">distDir</span>);

<span class="hljs-comment">// Copy static files</span>
<span class="hljs-keyword">if</span> (fs.<span class="hljs-title function_">existsSync</span>(<span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">staticDir</span>)) {
  <span class="hljs-title function_">copyDir</span>(<span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">staticDir</span>, <span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">distDir</span>);
}
</code></pre>
<p>The build always starts fresh. The <code>dist/</code> folder is deleted and recreated, ensuring no stale files remain from previous builds. Static assets (CSS, JavaScript, images) are copied unchanged.</p>
<h2 id="stage-2-url-mapping" tabindex="-1"><a class="heading-anchor" href="#stage-2-url-mapping" aria-hidden="true">#</a> Stage 2: URL Mapping</h2>
<p>Before processing content, MarkStack scans all markdown files to build a URL map. This map connects file paths to their final URLs.</p>
<pre class="hljs" data-language="javascript"><code><span class="hljs-keyword">const</span> urlMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();

<span class="hljs-keyword">function</span> <span class="hljs-title function_">buildUrlMap</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// Scan content directory recursively</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">scanDirectory</span>(<span class="hljs-params">dirPath, parentSlugPath = <span class="hljs-string">&#x27;&#x27;</span></span>) {
    <span class="hljs-keyword">const</span> entries = fs.<span class="hljs-title function_">readdirSync</span>(dirPath, { <span class="hljs-attr">withFileTypes</span>: <span class="hljs-literal">true</span> });
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> entry <span class="hljs-keyword">of</span> entries) {
      <span class="hljs-keyword">if</span> (entry.<span class="hljs-title function_">isDirectory</span>()) {
        <span class="hljs-comment">// Read _index.md to get folder title</span>
        <span class="hljs-comment">// Generate slug from title</span>
        <span class="hljs-comment">// Map directory path to URL</span>
        <span class="hljs-comment">// Recurse into subdirectory</span>
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">name</span>.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&#x27;.md&#x27;</span>)) {
        <span class="hljs-comment">// Read frontmatter for page title</span>
        <span class="hljs-comment">// Generate slug from title</span>
        <span class="hljs-comment">// Map file path to URL</span>
      }
    }
  }
  
  <span class="hljs-title function_">scanDirectory</span>(<span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">contentDir</span>);
}
</code></pre>
<h3 id="url-generation" tabindex="-1"><a class="heading-anchor" href="#url-generation" aria-hidden="true">#</a> URL Generation</h3>
<p>URLs are generated from page titles using the <code>slugify()</code> function:</p>
<pre class="hljs" data-language="javascript"><code><span class="hljs-keyword">function</span> <span class="hljs-title function_">slugify</span>(<span class="hljs-params">title</span>) {
  <span class="hljs-keyword">return</span> title
    .<span class="hljs-title function_">toLowerCase</span>()
    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[^a-z0-9\s-]/g</span>, <span class="hljs-string">&#x27;&#x27;</span>)  <span class="hljs-comment">// Remove special characters</span>
    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\s+/g</span>, <span class="hljs-string">&#x27;-&#x27;</span>)           <span class="hljs-comment">// Spaces to hyphens</span>
    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/-+/g</span>, <span class="hljs-string">&#x27;-&#x27;</span>)            <span class="hljs-comment">// Multiple hyphens to single</span>
    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^-|-$/g</span>, <span class="hljs-string">&#x27;&#x27;</span>);         <span class="hljs-comment">// Trim leading/trailing hyphens</span>
}
</code></pre>
<p>Examples:</p>
<ul>
<li>“Getting Started” becomes <code>getting-started</code></li>
<li>“Markdown Features” becomes <code>markdown-features</code></li>
<li>“CI/CD Integration” becomes <code>cicd-integration</code></li>
</ul>
<p>The URL map ensures internal links can resolve correctly and navigation URLs match page URLs.</p>
<h2 id="stage-3-content-processing" tabindex="-1"><a class="heading-anchor" href="#stage-3-content-processing" aria-hidden="true">#</a> Stage 3: Content Processing</h2>
<p>Each markdown file goes through the <code>processMarkdownFile()</code> function:</p>
<pre class="hljs" data-language="javascript"><code><span class="hljs-keyword">function</span> <span class="hljs-title function_">processMarkdownFile</span>(<span class="hljs-params">filePath</span>) {
  <span class="hljs-comment">// Read file content</span>
  <span class="hljs-keyword">const</span> content = fs.<span class="hljs-title function_">readFileSync</span>(filePath, <span class="hljs-string">&#x27;utf-8&#x27;</span>);
  
  <span class="hljs-comment">// Parse frontmatter and markdown body</span>
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: frontmatter, <span class="hljs-attr">content</span>: markdownContent } = <span class="hljs-title function_">matter</span>(content);
  
  <span class="hljs-comment">// Extract or derive title</span>
  <span class="hljs-keyword">const</span> title = <span class="hljs-title function_">getTitle</span>(filePath, frontmatter);
  
  <span class="hljs-comment">// Get URL from map</span>
  <span class="hljs-keyword">const</span> urlPath = <span class="hljs-title function_">getUrlPath</span>(filePath);
  
  <span class="hljs-comment">// Build navigation context</span>
  <span class="hljs-keyword">const</span> nav = <span class="hljs-title function_">buildNavigationTree</span>(filePath, urlPath);
  
  <span class="hljs-comment">// Render markdown to HTML</span>
  <span class="hljs-keyword">const</span> htmlContent = md.<span class="hljs-title function_">render</span>(markdownContent);
  
  <span class="hljs-keyword">return</span> {
    title,
    <span class="hljs-attr">description</span>: frontmatter.<span class="hljs-property">description</span> || <span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">defaultDescription</span>,
    <span class="hljs-attr">content</span>: htmlContent,
    urlPath,
    <span class="hljs-attr">breadcrumbs</span>: nav.<span class="hljs-property">breadcrumbs</span>,
    <span class="hljs-attr">sidebar</span>: nav.<span class="hljs-property">sidebar</span>,
    frontmatter
  };
}
</code></pre>
<h3 id="markdown-rendering" tabindex="-1"><a class="heading-anchor" href="#markdown-rendering" aria-hidden="true">#</a> Markdown Rendering</h3>
<p>MarkStack uses markdown-it with several plugins:</p>
<pre class="hljs" data-language="javascript"><code><span class="hljs-keyword">const</span> md = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;markdown-it&#x27;</span>)({
  <span class="hljs-attr">html</span>: <span class="hljs-literal">true</span>,       <span class="hljs-comment">// Allow raw HTML in markdown</span>
  <span class="hljs-attr">linkify</span>: <span class="hljs-literal">true</span>,    <span class="hljs-comment">// Auto-link URLs</span>
  <span class="hljs-attr">typographer</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// Smart quotes and dashes</span>
});

<span class="hljs-comment">// Add anchor links to headings</span>
md.<span class="hljs-title function_">use</span>(<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;markdown-it-anchor&#x27;</span>), {
  <span class="hljs-attr">permalink</span>: anchor.<span class="hljs-property">permalink</span>.<span class="hljs-title function_">ariaHidden</span>({
    <span class="hljs-attr">placement</span>: <span class="hljs-string">&#x27;before&#x27;</span>,
    <span class="hljs-attr">symbol</span>: <span class="hljs-string">&#x27;#&#x27;</span>,
    <span class="hljs-attr">class</span>: <span class="hljs-string">&#x27;heading-anchor&#x27;</span>
  })
});

<span class="hljs-comment">// Add footnote support</span>
md.<span class="hljs-title function_">use</span>(<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;markdown-it-footnote&#x27;</span>));

<span class="hljs-comment">// Add task list support</span>
md.<span class="hljs-title function_">use</span>(<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;markdown-it-task-lists&#x27;</span>));
</code></pre>
<h3 id="syntax-highlighting" tabindex="-1"><a class="heading-anchor" href="#syntax-highlighting" aria-hidden="true">#</a> Syntax Highlighting</h3>
<p>Code blocks are highlighted using highlight.js:</p>
<pre class="hljs" data-language="javascript"><code><span class="hljs-attr">highlight</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">str, lang</span>) {
  <span class="hljs-keyword">if</span> (lang &amp;&amp; hljs.<span class="hljs-title function_">getLanguage</span>(lang)) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;pre class=&quot;hljs&quot; data-language=&quot;&#x27;</span> + lang + <span class="hljs-string">&#x27;&quot;&gt;&lt;code&gt;&#x27;</span> +
        hljs.<span class="hljs-title function_">highlight</span>(str, { <span class="hljs-attr">language</span>: lang }).<span class="hljs-property">value</span> +
        <span class="hljs-string">&#x27;&lt;/code&gt;&lt;/pre&gt;&#x27;</span>;
    } <span class="hljs-keyword">catch</span> (err) {
      <span class="hljs-comment">// Fall through to plain text</span>
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;pre class=&quot;hljs&quot;&gt;&lt;code&gt;&#x27;</span> + md.<span class="hljs-property">utils</span>.<span class="hljs-title function_">escapeHtml</span>(str) + <span class="hljs-string">&#x27;&lt;/code&gt;&lt;/pre&gt;&#x27;</span>;
}
</code></pre>
<h3 id="github-style-alerts" tabindex="-1"><a class="heading-anchor" href="#github-style-alerts" aria-hidden="true">#</a> GitHub-Style Alerts</h3>
<p>A custom markdown-it plugin transforms blockquotes starting with alert markers:</p>
<pre class="hljs" data-language="javascript"><code>md.<span class="hljs-property">core</span>.<span class="hljs-property">ruler</span>.<span class="hljs-title function_">after</span>(<span class="hljs-string">&#x27;block&#x27;</span>, <span class="hljs-string">&#x27;github-alerts&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">state</span>) {
  <span class="hljs-keyword">const</span> tokens = state.<span class="hljs-property">tokens</span>;
  
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; tokens.<span class="hljs-property">length</span>; i++) {
    <span class="hljs-keyword">if</span> (tokens[i].<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;blockquote_open&#x27;</span>) {
      <span class="hljs-comment">// Find inline content</span>
      <span class="hljs-comment">// Check for [!NOTE], [!TIP], etc.</span>
      <span class="hljs-comment">// Add alert classes and icon</span>
      <span class="hljs-comment">// Remove marker from content</span>
    }
  }
});
</code></pre>
<p>Input:</p>
<pre class="hljs" data-language="markdown"><code><span class="hljs-quote">&gt; [!WARNING]</span>
<span class="hljs-quote">&gt; This is a warning message.</span>
</code></pre>
<p>Output:</p>
<pre class="hljs" data-language="html"><code><span class="hljs-tag">&lt;<span class="hljs-name">blockquote</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;alert alert-warning&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;alert-title&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;alert-icon&quot;</span>&gt;</span><span class="hljs-comment">&lt;!-- SVG --&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    WARNING
  <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This is a warning message.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">blockquote</span>&gt;</span>
</code></pre>
<h2 id="stage-4-navigation-generation" tabindex="-1"><a class="heading-anchor" href="#stage-4-navigation-generation" aria-hidden="true">#</a> Stage 4: Navigation Generation</h2>
<p>Navigation is built from the directory structure.</p>
<h3 id="sidebar-tree" tabindex="-1"><a class="heading-anchor" href="#sidebar-tree" aria-hidden="true">#</a> Sidebar Tree</h3>
<p>The <code>buildFullNavTree()</code> function walks the content directory and creates a nested structure:</p>
<pre class="hljs" data-language="javascript"><code><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildFullNavTree</span>(<span class="hljs-params">dirPath, currentUrlPath</span>) {
  <span class="hljs-keyword">const</span> items = [];
  <span class="hljs-keyword">const</span> entries = fs.<span class="hljs-title function_">readdirSync</span>(dirPath, { <span class="hljs-attr">withFileTypes</span>: <span class="hljs-literal">true</span> });
  
  <span class="hljs-comment">// Separate folders and files</span>
  <span class="hljs-keyword">const</span> folders = [];
  <span class="hljs-keyword">const</span> files = [];
  
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> entry <span class="hljs-keyword">of</span> entries) {
    <span class="hljs-keyword">if</span> (entry.<span class="hljs-title function_">isDirectory</span>()) {
      <span class="hljs-comment">// Get folder title from _index.md</span>
      <span class="hljs-comment">// Build children recursively</span>
      folders.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;folder&#x27;</span>,
        <span class="hljs-attr">title</span>: folderTitle,
        <span class="hljs-attr">url</span>: folderUrl,
        <span class="hljs-attr">expanded</span>: currentUrlPath.<span class="hljs-title function_">startsWith</span>(folderUrl),
        <span class="hljs-attr">children</span>: <span class="hljs-title function_">buildFullNavTree</span>(entryPath, currentUrlPath)
      });
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">name</span>.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&#x27;.md&#x27;</span>) &amp;&amp; entry.<span class="hljs-property">name</span> !== <span class="hljs-string">&#x27;_index.md&#x27;</span>) {
      files.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;file&#x27;</span>,
        <span class="hljs-attr">title</span>: pageTitle,
        <span class="hljs-attr">url</span>: fileUrl,
        <span class="hljs-attr">current</span>: fileUrl === currentUrlPath
      });
    }
  }
  
  <span class="hljs-comment">// Sort alphabetically by title</span>
  folders.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a.<span class="hljs-property">title</span>.<span class="hljs-title function_">localeCompare</span>(b.<span class="hljs-property">title</span>));
  files.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a.<span class="hljs-property">title</span>.<span class="hljs-title function_">localeCompare</span>(b.<span class="hljs-property">title</span>));
  
  <span class="hljs-keyword">return</span> [...folders, ...files];
}
</code></pre>
<h3 id="breadcrumbs" tabindex="-1"><a class="heading-anchor" href="#breadcrumbs" aria-hidden="true">#</a> Breadcrumbs</h3>
<p>Breadcrumbs are built by walking up from the current file to the root:</p>
<pre class="hljs" data-language="javascript"><code><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildNavigationTree</span>(<span class="hljs-params">filePath, urlPath</span>) {
  <span class="hljs-keyword">const</span> nav = {
    <span class="hljs-attr">breadcrumbs</span>: [],
    <span class="hljs-attr">sidebar</span>: <span class="hljs-title function_">buildFullNavTree</span>(<span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">contentDir</span>, urlPath)
  };
  
  <span class="hljs-comment">// Start with Home</span>
  nav.<span class="hljs-property">breadcrumbs</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;Home&#x27;</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;/&#x27;</span> });
  
  <span class="hljs-comment">// Walk up directory tree</span>
  <span class="hljs-keyword">const</span> pathParts = relativePath.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;/&#x27;</span>).<span class="hljs-title function_">filter</span>(<span class="hljs-title class_">Boolean</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> part <span class="hljs-keyword">of</span> pathParts) {
    <span class="hljs-comment">// Get directory or file title</span>
    <span class="hljs-comment">// Get URL from urlMap</span>
    <span class="hljs-comment">// Add to breadcrumbs</span>
  }
  
  <span class="hljs-keyword">return</span> nav;
}
</code></pre>
<h2 id="stage-5-template-application" tabindex="-1"><a class="heading-anchor" href="#stage-5-template-application" aria-hidden="true">#</a> Stage 5: Template Application</h2>
<p>The <code>generatePage()</code> function replaces placeholders in the template:</p>
<pre class="hljs" data-language="javascript"><code><span class="hljs-keyword">function</span> <span class="hljs-title function_">generatePage</span>(<span class="hljs-params">processed</span>) {
  <span class="hljs-keyword">const</span> template = <span class="hljs-title function_">readTemplate</span>(<span class="hljs-string">&#x27;base&#x27;</span>);
  
  <span class="hljs-keyword">let</span> html = template
    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\{\{siteTitle\}\}/g</span>, <span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">headerTitle</span>)
    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\{\{title\}\}/g</span>, processed.<span class="hljs-property">title</span>)
    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\{\{description\}\}/g</span>, processed.<span class="hljs-property">description</span>)
    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\{\{url\}\}/g</span>, <span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">siteUrl</span> + processed.<span class="hljs-property">urlPath</span>)
    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\{\{breadcrumbs\}\}/g</span>, <span class="hljs-title function_">renderBreadcrumbs</span>(processed.<span class="hljs-property">breadcrumbs</span>))
    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\{\{sidebar\}\}/g</span>, <span class="hljs-title function_">renderSidebar</span>(processed.<span class="hljs-property">sidebar</span>))
    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\{\{pageClass\}\}/g</span>, processed.<span class="hljs-property">isHomepage</span> ? <span class="hljs-string">&#x27; is-homepage&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>)
    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\{\{copyrightText\}\}/g</span>, <span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">copyrightText</span>)
    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\{\{content\}\}/g</span>, processed.<span class="hljs-property">content</span>);
  
  <span class="hljs-keyword">return</span> html;
}
</code></pre>
<h3 id="sidebar-html-rendering" tabindex="-1"><a class="heading-anchor" href="#sidebar-html-rendering" aria-hidden="true">#</a> Sidebar HTML Rendering</h3>
<p>The sidebar tree is converted to HTML recursively:</p>
<pre class="hljs" data-language="javascript"><code><span class="hljs-keyword">function</span> <span class="hljs-title function_">renderSidebar</span>(<span class="hljs-params">sidebar, level = <span class="hljs-number">0</span></span>) {
  <span class="hljs-keyword">let</span> html = <span class="hljs-string">&#x27;&lt;ul class=&quot;sidebar-list sidebar-level-&#x27;</span> + level + <span class="hljs-string">&#x27;&quot;&gt;\n&#x27;</span>;
  
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> sidebar) {
    <span class="hljs-keyword">const</span> classes = [<span class="hljs-string">&#x27;sidebar-item&#x27;</span>, <span class="hljs-string">&#x27;sidebar-&#x27;</span> + item.<span class="hljs-property">type</span>];
    <span class="hljs-keyword">if</span> (item.<span class="hljs-property">current</span>) classes.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;sidebar-current&#x27;</span>);
    <span class="hljs-keyword">if</span> (item.<span class="hljs-property">expanded</span>) classes.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;sidebar-expanded&#x27;</span>);
    
    <span class="hljs-keyword">if</span> (item.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;folder&#x27;</span>) {
      html += <span class="hljs-string">&#x27;&lt;li class=&quot;&#x27;</span> + classes.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27; &#x27;</span>) + <span class="hljs-string">&#x27;&quot;&gt;&#x27;</span>;
      html += <span class="hljs-string">&#x27;&lt;div class=&quot;sidebar-folder-header&quot;&gt;&#x27;</span>;
      <span class="hljs-comment">// Toggle button with chevron</span>
      <span class="hljs-comment">// Link with folder icon</span>
      html += <span class="hljs-string">&#x27;&lt;/div&gt;&#x27;</span>;
      html += <span class="hljs-string">&#x27;&lt;div class=&quot;sidebar-children&quot;&gt;&#x27;</span>;
      html += <span class="hljs-title function_">renderSidebar</span>(item.<span class="hljs-property">children</span>, level + <span class="hljs-number">1</span>);
      html += <span class="hljs-string">&#x27;&lt;/div&gt;&#x27;</span>;
      html += <span class="hljs-string">&#x27;&lt;/li&gt;&#x27;</span>;
    } <span class="hljs-keyword">else</span> {
      html += <span class="hljs-string">&#x27;&lt;li class=&quot;&#x27;</span> + classes.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27; &#x27;</span>) + <span class="hljs-string">&#x27;&quot;&gt;&#x27;</span>;
      html += <span class="hljs-string">&#x27;&lt;a href=&quot;&#x27;</span> + item.<span class="hljs-property">url</span> + <span class="hljs-string">&#x27;&quot;&gt;&#x27;</span> + item.<span class="hljs-property">title</span> + <span class="hljs-string">&#x27;&lt;/a&gt;&#x27;</span>;
      html += <span class="hljs-string">&#x27;&lt;/li&gt;&#x27;</span>;
    }
  }
  
  html += <span class="hljs-string">&#x27;&lt;/ul&gt;&#x27;</span>;
  <span class="hljs-keyword">return</span> html;
}
</code></pre>
<h2 id="stage-6-special-pages" tabindex="-1"><a class="heading-anchor" href="#stage-6-special-pages" aria-hidden="true">#</a> Stage 6: Special Pages</h2>
<h3 id="homepage" tabindex="-1"><a class="heading-anchor" href="#homepage" aria-hidden="true">#</a> Homepage</h3>
<p>The homepage is generated separately:</p>
<pre class="hljs" data-language="javascript"><code><span class="hljs-keyword">function</span> <span class="hljs-title function_">generateHomepage</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">let</span> content = <span class="hljs-string">&#x27;&#x27;</span>;
  
  <span class="hljs-comment">// Add hero section if enabled</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">showHero</span> &amp;&amp; (<span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">siteTitle</span> || <span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">siteSubtitle</span>)) {
    content += <span class="hljs-string">&#x27;&lt;div class=&quot;homepage-hero&quot;&gt;&#x27;</span>;
    <span class="hljs-comment">// Add title and subtitle</span>
    content += <span class="hljs-string">&#x27;&lt;/div&gt;&#x27;</span>;
  }
  
  <span class="hljs-comment">// Check for content/_index.md</span>
  <span class="hljs-keyword">if</span> (fs.<span class="hljs-title function_">existsSync</span>(homepageIndexPath)) {
    <span class="hljs-comment">// Render markdown content below hero</span>
  }
  
  <span class="hljs-comment">// Generate page with homepage flag</span>
  <span class="hljs-keyword">const</span> processed = {
    <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;Home&#x27;</span>,
    content,
    <span class="hljs-attr">urlPath</span>: <span class="hljs-string">&#x27;/&#x27;</span>,
    <span class="hljs-attr">isHomepage</span>: <span class="hljs-literal">true</span>
    <span class="hljs-comment">// ...</span>
  };
  
  <span class="hljs-keyword">const</span> html = <span class="hljs-title function_">generatePage</span>(processed);
  fs.<span class="hljs-title function_">writeFileSync</span>(path.<span class="hljs-title function_">join</span>(<span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">distDir</span>, <span class="hljs-string">&#x27;index.html&#x27;</span>), html);
}
</code></pre>
<h3 id="404-page" tabindex="-1"><a class="heading-anchor" href="#404-page" aria-hidden="true">#</a> 404 Page</h3>
<p>The 404 page uses static content:</p>
<pre class="hljs" data-language="javascript"><code><span class="hljs-keyword">function</span> <span class="hljs-title function_">generate404</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> content = <span class="hljs-string">&#x27;&lt;div class=&quot;error-page&quot;&gt;...&lt;/div&gt;&#x27;</span>;
  
  <span class="hljs-keyword">const</span> processed = {
    <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;Page Not Found&#x27;</span>,
    content,
    <span class="hljs-attr">urlPath</span>: <span class="hljs-string">&#x27;/404/&#x27;</span>,
    <span class="hljs-attr">sidebar</span>: []
  };
  
  <span class="hljs-keyword">const</span> html = <span class="hljs-title function_">generatePage</span>(processed);
  fs.<span class="hljs-title function_">writeFileSync</span>(path.<span class="hljs-title function_">join</span>(<span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">distDir</span>, <span class="hljs-string">&#x27;404.html&#x27;</span>), html);
}
</code></pre>
<h2 id="stage-7-search-index" tabindex="-1"><a class="heading-anchor" href="#stage-7-search-index" aria-hidden="true">#</a> Stage 7: Search Index</h2>
<p>The search index is built as pages are processed:</p>
<pre class="hljs" data-language="javascript"><code><span class="hljs-keyword">const</span> searchIndex = [];

<span class="hljs-comment">// During content processing:</span>
searchIndex.<span class="hljs-title function_">push</span>({
  <span class="hljs-attr">title</span>: processed.<span class="hljs-property">title</span>,
  <span class="hljs-attr">url</span>: processed.<span class="hljs-property">urlPath</span>,
  <span class="hljs-attr">description</span>: processed.<span class="hljs-property">description</span>,
  <span class="hljs-attr">content</span>: plainTextContent  <span class="hljs-comment">// HTML stripped</span>
});

<span class="hljs-comment">// After all pages processed:</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">generateSearchIndex</span>(<span class="hljs-params"></span>) {
  fs.<span class="hljs-title function_">writeFileSync</span>(
    path.<span class="hljs-title function_">join</span>(<span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">distDir</span>, <span class="hljs-string">&#x27;search-index.json&#x27;</span>),
    <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(searchIndex, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>)
  );
}
</code></pre>
<p>The content is stripped of HTML tags and markdown syntax to provide clean text for search:</p>
<pre class="hljs" data-language="javascript"><code><span class="hljs-keyword">const</span> plainContent = processed.<span class="hljs-property">content</span>
  .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&lt;[^&gt;]*&gt;/g</span>, <span class="hljs-string">&#x27; &#x27;</span>)           <span class="hljs-comment">// Remove HTML tags</span>
  .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&amp;quot;/g</span>, <span class="hljs-string">&#x27;&quot;&#x27;</span>)            <span class="hljs-comment">// Decode entities</span>
  .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/#{1,6}\s*/g</span>, <span class="hljs-string">&#x27;&#x27;</span>)          <span class="hljs-comment">// Remove heading markers</span>
  .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\*\*([^*]+)\*\*/g</span>, <span class="hljs-string">&#x27;$1&#x27;</span>)  <span class="hljs-comment">// Remove bold</span>
  .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\[([^\]]+)\]\([^)]+\)/g</span>, <span class="hljs-string">&#x27;$1&#x27;</span>)  <span class="hljs-comment">// Links to text</span>
  .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\s+/g</span>, <span class="hljs-string">&#x27; &#x27;</span>)               <span class="hljs-comment">// Normalize whitespace</span>
  .<span class="hljs-title function_">trim</span>();
</code></pre>
<h2 id="output-structure" tabindex="-1"><a class="heading-anchor" href="#output-structure" aria-hidden="true">#</a> Output Structure</h2>
<p>The build produces:</p>
<pre class="hljs"><code>dist/
  index.html                 # Homepage
  404.html                   # Error page
  search-index.json          # Search data
  css/
    main.css                 # Copied from static/
    hljs-theme.css
  js/
    app.js                   # Copied from static/
  svg/
    logo.svg                 # Copied from static/
  getting-started/
    index.html               # Category page
    installation/
      index.html             # Article page
    quickstart/
      index.html
  authoring/
    index.html
    ...
</code></pre>
<p>Each page is output as <code>[slug]/index.html</code> for clean URLs. When a web server serves <code>/getting-started/</code>, it serves <code>/getting-started/index.html</code>.</p>
<h2 id="performance-considerations" tabindex="-1"><a class="heading-anchor" href="#performance-considerations" aria-hidden="true">#</a> Performance Considerations</h2>
<p>The build is optimized for speed:</p>
<ul>
<li><strong>Single pass</strong>: Each file is read once</li>
<li><strong>In-memory processing</strong>: No intermediate files</li>
<li><strong>Direct I/O</strong>: No caching layers or virtual file systems</li>
<li><strong>Minimal dependencies</strong>: Only essential packages loaded</li>
</ul>
<p>For very large sites (500+ pages), consider:</p>
<ul>
<li>Using <code>npm run build</code> in CI rather than watch mode</li>
<li>Ensuring adequate system memory for URL map</li>
</ul>

      </article>
    </main>
  </div>

  <footer class="site-footer">
    <div class="footer-container">
      <p>Built with <a href="https://github.com/KineticEnforcer/MarkStack" target="_blank" rel="noopener noreferrer">MarkStack</a></p>
      <p class="copyright">© 2026 KineticEnforcer. All rights reserved.</p>
    </div>
  </footer>

  <script src="/markstackdemo/js/app.js"></script>
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ 
      startOnLoad: true,
      theme: document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'
    });
  </script>
</body>
</html>
